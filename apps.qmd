---
title: Shiny Apps
---

```{r readyaml}
library(yaml)
info <- yaml::yaml.load_file('packages.yaml')
```

```{r generatecontent}
#| output: asis
for (app in info$categories$apps) {
  cat('#', app$name, "-", app$full_name, '\n')

  cat(
    ' [GitHub Repository](',
    app$repo_url,
    '){.btn .btn-outline-primary .btn role="button"}\n'
  )
  cat(
    '[Documentation](',
    app$doc_url,
    '){.btn .btn-outline-primary .btn role="button"}\n'
  )
  cat(
    '[Start App](',
    app$app_url,
    '){.btn .btn-outline-primary .btn role="button"}\n'
  )
  cat(
    '[Start App (Beta)](',
    app$app_beta_url,
    '){.btn .btn-outline-primary .btn role="button"}\n\n'
  )

  cat('::: {.panel-tabset}\n')
  cat('##', app$name, '\n')

  if (file.exists(app$img)) {
    cat(
      '<img src="',
      app$img,
      '" alt="',
      app$name,
      ' Image" style="width:100%;max-width:800px;">\n\n',
      sep=""
    )
  } else {
    cat('No image available.\n\n')
  }

  cat(app$info_text, "\n\n")

  instruction_template <- readLines("instructions.qmd")
  instruction_template <- gsub(
    "\\{docker-image\\}",
    app$docker_image,
    instruction_template
  )
  instruction_template <- gsub(
    "\\{package\\}",
    app$name,
    instruction_template
  )

  cat(instruction_template, sep="\n")
  cat(':::\n')
  cat('\n\n')
}
```
