```{r readyaml}
library(yaml)
info <- yaml::yaml.load_file('packages.yaml')
```
```{r generatecontent}
#| output: asis
for (app in info$categories$apps) {
  cat('#', app$name, '\n')
  
  if (file.exists(app$img)) {
    cat(
      '<img src="',
      app$img,
      '" alt="',
      app$name,
      ' Image" style="width:100%;max-width:600px;">\n\n',
      sep=""
    )
  } else {
    cat('No image available.\n\n')
  }

  cat('::: {.panel-tabset}\n')
  cat('##', app$name, '\n')
  
 
  cat(
    ' [GitHub Repository](',
    app$repo_url,
    '){.btn .btn-outline-primary .btn role="button"}\n'
  )
  cat(
    '[Read Docs](',
    app$doc_url,
    '){.btn .btn-outline-primary .btn role="button"}\n'
  )
  cat(
    '[Start App](',
    app$app_url,
    '){.btn .btn-outline-primary .btn role="button"}\n'
  )
  cat(
    '[Start App (Beta)](',
    app$app_beta_url,
    '){.btn .btn-outline-primary .btn role="button"}\n\n'
  )

  instruction_template <- readLines("instructions.qmd")
  instruction_template <- gsub(
    "\\{docker-image\\}",
    app$docker_image,
    instruction_template
  )
  instruction_template <- gsub(
    "\\{package\\}",
    app$name,
    instruction_template
  )

  cat(instruction_template, sep="\n")
  cat(':::\n')

  # cat('### Instructions:\n')
  # cat('```r\n')
  # cat('docker pull ghcr.io/pandora/', app$docker_image, ':main\n', sep="")
  # cat('```\n\n')
}
```
